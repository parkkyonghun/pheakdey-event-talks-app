<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Technical Talks Event</title>
    <style>
        body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
    color: #333;
}

header {
    background-color: #333;
    color: #fff;
    padding: 1rem 0;
    text-align: center;
}

main {
    max-width: 1200px;
    margin: 20px auto;
    padding: 0 20px;
}

#filter-section {
    background-color: #fff;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

#category-search {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    border: 1px solid #ddd;
    border-radius: 4px;
    box-sizing: border-box; /* Include padding in width */
}

#category-filters {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.category-tag {
    background-color: #e0e0e0;
    padding: 5px 10px;
    border-radius: 15px;
    cursor: pointer;
    transition: background-color 0.3s ease;
}

.category-tag:hover {
    background-color: #d0d0d0;
}

.category-tag.active {
    background-color: #007bff;
    color: #fff;
}

.schedule-item {
    background-color: #fff;
    padding: 20px;
    margin-bottom: 10px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.schedule-item.break {
    background-color: #ffc107;
    color: #333;
    text-align: center;
    font-weight: bold;
}

.schedule-item h2 {
    margin-top: 0;
    color: #0056b3;
}

.schedule-item p {
    margin: 5px 0;
}

.schedule-item .time {
    font-weight: bold;
    color: #666;
}

.schedule-item .speakers {
    font-style: italic;
    color: #555;
}

.schedule-item .categories {
    margin-top: 10px;
}

.schedule-item .category-label {
    background-color: #007bff;
    color: #fff;
    padding: 3px 8px;
    border-radius: 4px;
    font-size: 0.8em;
    margin-right: 5px;
    display: inline-block;
}

    </style>
</head>
<body>
    <header>
        <h1>Technical Talks Event Schedule</h1>
    </header>
    <main>
        <section id="filter-section">
            <input type="text" id="category-search" placeholder="Search by category...">
            <div id="category-filters"></div>
        </section>
        <section id="schedule">
            <!-- Schedule will be dynamically loaded here -->
        </section>
    </main>
    <script>
        const talksData = [
  {
    "type": "talk",
    "id": "talk-1",
    "title": "The Future of AI in Web Development",
    "speakers": [
      "Dr. Ava Sharma"
    ],
    "category": [
      "AI",
      "Web Development"
    ],
    "duration": 60,
    "description": "Explore how AI is transforming modern web development workflows and user experiences.",
    "startTime": "10:00 AM",
    "endTime": "11:00 AM"
  },
  {
    "type": "talk",
    "id": "talk-2",
    "title": "Demystifying Blockchain: Beyond Cryptocurrencies",
    "speakers": [
      "Ben Carter"
    ],
    "category": [
      "Blockchain",
      "Security"
    ],
    "duration": 60,
    "description": "Understand the core concepts of blockchain technology and its potential applications outside of digital currencies.",
    "startTime": "11:10 AM",
    "endTime": "12:10 PM"
  },
  {
    "type": "talk",
    "id": "talk-3",
    "title": "Mastering React Hooks for Performance",
    "speakers": [
      "Chloe Davis",
      "David Lee"
    ],
    "category": [
      "React",
      "Frontend"
    ],
    "duration": 60,
    "description": "Learn advanced techniques for optimizing React component performance using hooks.",
    "startTime": "12:20 PM",
    "endTime": "1:20 PM"
  },
  {
    "type": "talk",
    "id": "talk-4",
    "title": "Cloud-Native Architectures with Kubernetes",
    "speakers": [
      "Dr. Ethan Miller"
    ],
    "category": [
      "Cloud",
      "DevOps",
      "Kubernetes"
    ],
    "duration": 60,
    "description": "Design and deploy scalable, resilient applications using Kubernetes in a cloud-native environment.",
    "startTime": "2:40 PM",
    "endTime": "3:40 PM"
  },
  {
    "type": "talk",
    "id": "talk-5",
    "title": "Introduction to Quantum Computing",
    "speakers": [
      "Fiona Green"
    ],
    "category": [
      "Quantum Computing",
      "Physics"
    ],
    "duration": 60,
    "description": "An accessible overview of quantum computing principles and its potential to solve complex problems.",
    "startTime": "3:50 PM",
    "endTime": "4:50 PM"
  },
  {
    "type": "talk",
    "id": "talk-6",
    "title": "Effective API Design with GraphQL",
    "speakers": [
      "Grace Hall",
      "Henry King"
    ],
    "category": [
      "API",
      "Backend",
      "GraphQL"
    ],
    "duration": 60,
    "description": "Best practices for designing flexible and efficient APIs using GraphQL.",
    "startTime": "5:00 PM",
    "endTime": "6:00 PM"
  }
];
        const fullSchedule = [
  {
    "type": "talk",
    "id": "talk-1",
    "title": "The Future of AI in Web Development",
    "speakers": [
      "Dr. Ava Sharma"
    ],
    "category": [
      "AI",
      "Web Development"
    ],
    "duration": 60,
    "description": "Explore how AI is transforming modern web development workflows and user experiences.",
    "startTime": "10:00 AM",
    "endTime": "11:00 AM"
  },
  {
    "type": "talk",
    "id": "talk-2",
    "title": "Demystifying Blockchain: Beyond Cryptocurrencies",
    "speakers": [
      "Ben Carter"
    ],
    "category": [
      "Blockchain",
      "Security"
    ],
    "duration": 60,
    "description": "Understand the core concepts of blockchain technology and its potential applications outside of digital currencies.",
    "startTime": "11:10 AM",
    "endTime": "12:10 PM"
  },
  {
    "type": "talk",
    "id": "talk-3",
    "title": "Mastering React Hooks for Performance",
    "speakers": [
      "Chloe Davis",
      "David Lee"
    ],
    "category": [
      "React",
      "Frontend"
    ],
    "duration": 60,
    "description": "Learn advanced techniques for optimizing React component performance using hooks.",
    "startTime": "12:20 PM",
    "endTime": "1:20 PM"
  },
  {
    "type": "break",
    "name": "Lunch Break",
    "startTime": "1:30 PM",
    "endTime": "2:30 PM",
    "duration": 60
  },
  {
    "type": "talk",
    "id": "talk-4",
    "title": "Cloud-Native Architectures with Kubernetes",
    "speakers": [
      "Dr. Ethan Miller"
    ],
    "category": [
      "Cloud",
      "DevOps",
      "Kubernetes"
    ],
    "duration": 60,
    "description": "Design and deploy scalable, resilient applications using Kubernetes in a cloud-native environment.",
    "startTime": "2:40 PM",
    "endTime": "3:40 PM"
  },
  {
    "type": "talk",
    "id": "talk-5",
    "title": "Introduction to Quantum Computing",
    "speakers": [
      "Fiona Green"
    ],
    "category": [
      "Quantum Computing",
      "Physics"
    ],
    "duration": 60,
    "description": "An accessible overview of quantum computing principles and its potential to solve complex problems.",
    "startTime": "3:50 PM",
    "endTime": "4:50 PM"
  },
  {
    "type": "talk",
    "id": "talk-6",
    "title": "Effective API Design with GraphQL",
    "speakers": [
      "Grace Hall",
      "Henry King"
    ],
    "category": [
      "API",
      "Backend",
      "GraphQL"
    ],
    "duration": 60,
    "description": "Best practices for designing flexible and efficient APIs using GraphQL.",
    "startTime": "5:00 PM",
    "endTime": "6:00 PM"
  }
];
        document.addEventListener('DOMContentLoaded', () => {
    const scheduleContainer = document.getElementById('schedule');
    const categorySearchInput = document.getElementById('category-search');
    const categoryFiltersContainer = document.getElementById('category-filters');

    // talksData and fullSchedule are globally available from generate-site.js
    let displayedSchedule = [...fullSchedule];

    function renderSchedule(scheduleToRender) {
        scheduleContainer.innerHTML = ''; // Clear previous schedule

        scheduleToRender.forEach(item => {
            const itemDiv = document.createElement('div');
            itemDiv.classList.add('schedule-item');

            if (item.type === 'talk') {
                itemDiv.dataset.categories = item.category.map(cat => cat.toLowerCase()).join(' ');
                itemDiv.innerHTML = `
                    <p class="time">${item.startTime} - ${item.endTime}</p>
                    <h2>${item.title}</h2>
                    <p class="speakers">Speaker(s): ${item.speakers.join(', ')}</p>
                    <p>${item.description}</p>
                    <div class="categories">
                        ${item.category.map(cat => `<span class="category-label">${cat}</span>`).join('')}
                    </div>
                `;
            } else if (item.type === 'break') {
                itemDiv.classList.add('break');
                itemDiv.innerHTML = `
                    <p class="time">${item.startTime} - ${item.endTime}</p>
                    <h2>${item.name}</h2>
                `;
            }
            scheduleContainer.appendChild(itemDiv);
        });
    }

    function populateCategoryFilters() {
        const allCategories = new Set();
        talksData.forEach(talk => {
            talk.category.forEach(cat => allCategories.add(cat));
        });

        categoryFiltersContainer.innerHTML = '';
        allCategories.forEach(cat => {
            const tag = document.createElement('span');
            tag.classList.add('category-tag');
            tag.textContent = cat;
            tag.addEventListener('click', () => toggleCategoryFilter(cat));
            categoryFiltersContainer.appendChild(tag);
        });
    }

    let activeCategories = new Set();

    function toggleCategoryFilter(category) {
        const categoryTag = Array.from(categoryFiltersContainer.children).find(tag => tag.textContent === category);

        if (activeCategories.has(category.toLowerCase())) {
            activeCategories.delete(category.toLowerCase());
            categoryTag.classList.remove('active');
        } else {
            activeCategories.add(category.toLowerCase());
            categoryTag.classList.add('active');
        }
        applyFilters();
    }

    function applyFilters() {
        let filteredTalks = [];
        if (activeCategories.size === 0 && categorySearchInput.value.trim() === '') {
            filteredTalks = [...talksData]; // No filters, show all talks
        } else {
            filteredTalks = talksData.filter(talk => {
                const matchesSearch = categorySearchInput.value.trim() === '' ||
                                      talk.category.some(cat => cat.toLowerCase().includes(categorySearchInput.value.trim().toLowerCase()));
                const matchesCategoryTags = activeCategories.size === 0 ||
                                            talk.category.some(cat => activeCategories.has(cat.toLowerCase()));
                return matchesSearch && matchesCategoryTags;
            });
        }

        // Reconstruct the full schedule with filtered talks and breaks
        const newDisplayedSchedule = [];
        fullSchedule.forEach(item => {
            if (item.type === 'talk') {
                if (filteredTalks.some(ft => ft.id === item.id)) {
                    newDisplayedSchedule.push(item);
                }
            } else {
                newDisplayedSchedule.push(item); // Always include breaks
            }
        });

        renderSchedule(newDisplayedSchedule);
    }

    categorySearchInput.addEventListener('input', applyFilters);

    // Initial render
    renderSchedule(fullSchedule);
    populateCategoryFilters();
});

    </script>
</body>
</html>